# 로드맵 비교 검토 - 사용자 제안 vs 작성된 문서

**작성일**: 2025-12-17
**목적**: 사용자 제안 로드맵과 기 작성 문서 비교 및 통합 방안 검토

---

## 📊 비교 요약

### 결론: ✅ **거의 완벽하게 일치** (95% 동일)

사용자가 제시한 로드맵은 이미 작성된 `ROADMAP_REVIEW_AND_ARCHITECTURE.md`에 **대부분 반영**되어 있습니다.

---

## 1. 내용 비교

### 1.1 핵심 구조 (100% 일치)

| 요소 | 사용자 제안 | 기 작성 문서 | 일치 여부 |
|------|-------------|--------------|-----------|
| **MVP 범위** | M0-M2 (Week 1-6) | M0-M2 (Week 1-6) | ✅ 완전 일치 |
| **P1 목표** | 운영 안정화 & 보조 지능 | 운영 안정화 (Week 7-10) | ✅ 완전 일치 |
| **P2 목표** | 데이터 기반 자동화 | 고도화 (Week 11+) | ✅ 완전 일치 |
| **ML 도입 시점** | P1: ML-lite, P2: 본격 | P1: ML-lite, P2: 본격 | ✅ 완전 일치 |

---

### 1.2 세부 기능 비교

#### M0 (기반 정비)
| 항목 | 사용자 제안 | 기 작성 문서 | 일치 |
|------|-------------|--------------|------|
| DB 스키마 | std_profiles, test_samples, comparison_results | 7 tables (std_models, std_samples, std_statistics, test_samples, comparison_results, users, audit_logs) | 🟡 확장 |
| ORM + 마이그레이션 | ✅ | ✅ (SQLAlchemy + Alembic) | ✅ |
| Pydantic 모델 | ✅ | ✅ (19 schemas) | ✅ |
| 제외 항목 | Upper/Lower, 버전 관리 UI | 동일 | ✅ |

**차이점**: 기 작성 문서가 **더 상세** (users, audit_logs 추가)

---

#### M1 (STD 등록)
| 항목 | 사용자 제안 | 기 작성 문서 | 일치 |
|------|-------------|--------------|------|
| STD 등록 API | ✅ | ✅ | ✅ |
| STD 분석 파이프라인 | Zone 경계, Radial profile, Zone별 LAB | 동일 + InspectionPipeline 재사용 | ✅ |
| STD 조회 UI | ✅ | ✅ (목록 + 상세) | ✅ |
| STD 형태 | 단일 기준 프로파일 | 단일 기준 (P2에서 통계) | ✅ |
| 제외 항목 | 다중 샘플 통계, 자동 범위 | 동일 (P2로 연기) | ✅ |

**차이점**: 없음 (100% 일치)

---

#### M2 (비교 + 리포트)
| 항목 | 사용자 제안 | 기 작성 문서 | 일치 |
|------|-------------|--------------|------|
| **구조 유사도** | 상관계수, Zone 경계 차이, C-zone 정렬 | 동일 | ✅ |
| **색상 유사도** | 평균 ΔE, ΔE_95p | 동일 | ✅ |
| **판정 로직** | PASS/WARNING/FAIL, 신뢰도 분리 | 동일 + JudgmentCriteria | ✅ |
| **Explainability** | Top 3 FAIL 원인 | 동일 + FailureReason schema | ✅ |
| **비교 UI** | Overlay, 비교 테이블, NG 사유 카드 | 동일 | ✅ |
| **제외 항목** | DTW 전체, 정량 조치 권장, 상한/하한 | 동일 (P1-P2로 연기) | ✅ |

**차이점**: 기 작성 문서가 **더 상세** (의사코드, Pydantic schemas)

---

#### P1 (운영 안정화)
| 항목 | 사용자 제안 | 기 작성 문서 | 일치 |
|------|-------------|--------------|------|
| DTW 조건부 실행 | 상관계수 낮은 케이스만 | 동일 (< 0.80) | ✅ |
| Ink-wise 비교 | ✅ | ✅ | ✅ |
| Hotspot 검출 | ✅ | ✅ | ✅ |
| ML-lite | Isolation Forest / One-Class SVM | 동일 | ✅ |
| ML 역할 | Review 플래그만 (판정 변경 ❌) | 동일 | ✅ |
| **운영 UX** | 사람 판정 입력, NG 코드, 조치 기록 | 동일 + 강조 | ✅ |

**차이점**: 없음 (100% 일치)

---

#### P2 (고도화)
| 항목 | 사용자 제안 | 기 작성 문서 | 일치 |
|------|-------------|--------------|------|
| STD 통계 모델 | 다중 샘플, 평균 + 공분산, 자동 Upper/Lower | 동일 (5-10 샘플) | ✅ |
| 판정 보정 ML | XGBoost / LightGBM | 동일 | ✅ |
| 불량 유형 분류 | 4가지 유형 | 동일 (Phenomenological) | ✅ |
| 조치 권장 정량화 | LAB 차이 → 공정 조정 | 동일 | ✅ |

**차이점**: 없음 (100% 일치)

---

### 1.3 핵심 원칙 비교

| 원칙 | 사용자 제안 | 기 작성 문서 | 일치 |
|------|-------------|--------------|------|
| 1. 룰 기반 먼저, ML 나중 | ✅ | ✅ (섹션 6.1) | ✅ |
| 2. 판정과 신뢰도 분리 | ✅ | ✅ (섹션 6.2) | ✅ |
| 3. 현상 설명 우선 | ✅ | ✅ (섹션 6.3) | ✅ |
| 4. STD는 분포가 되어야 | ✅ | ✅ (섹션 6.4) | ✅ |
| 5. 데이터 수집 UX 중요 | ✅ | ✅ (섹션 6.5) | ✅ |

**차이점**: 없음 (100% 일치)

---

## 2. 표현 방식 비교

### 2.1 사용자 제안의 장점 ⭐

1. **간결성**
   - 핵심만 추출, 읽기 쉬움
   - 1-2페이지 Quick Reference로 적합

2. **명확한 질문 형식**
   ```
   MVP: "STD랑 다른가?"
   P1:  "이거 진짜 봐야 하나?"
   P2:  "왜 이런 불량이 나왔나?"
   ```
   → 각 단계의 목표를 **직관적으로** 표현

3. **시각적 구조**
   - 이모지 활용 (🔴 MVP, 🟡 P1, 🟢 P2)
   - "포함" / "제외" 명확한 구분
   - 표 형식 (단계별 요약)

### 2.2 기 작성 문서의 장점

1. **상세성**
   - 리스크 분석 및 완화 방안
   - 작업량 추정 (라인 수, 시간)
   - 코드 예시 및 의사코드
   - 아키텍처 설계 (단일 vs 비교 시스템 분리)

2. **실행 가능성**
   - Pydantic schemas 정의 완료
   - DB 모델 정의 완료
   - Alembic 가이드 완료
   - Week 1 체크리스트 완료

3. **기존 계획과의 연결**
   - TECHNICAL_ENHANCEMENTS_ADVANCED.md 참조
   - STD_BASED_QC_SYSTEM_PLAN.md 참조
   - 7대 고급 기술의 단계별 배치

---

## 3. 통합 방안

### 옵션 A: 사용자 제안을 별도 문서로 추가 (Quick Reference)
**파일명**: `docs/planning/MVP_ROADMAP_QUICK_REFERENCE.md`

**장점**:
- ✅ 간결한 참조 문서 (1-2페이지)
- ✅ 빠른 이해 (임원, 품질팀 등 non-tech)
- ✅ 기존 문서 훼손 없음

**단점**:
- ❌ 문서 중복 (내용 95% 동일)
- ❌ 유지보수 부담 (두 문서 동기화 필요)

---

### 옵션 B: 기존 문서 개선 (사용자 제안 장점 통합)
**대상**: `docs/planning/ROADMAP_REVIEW_AND_ARCHITECTURE.md`

**개선 사항**:
1. ✅ 섹션 0 추가: "Quick Summary" (사용자 제안의 간결한 표현)
2. ✅ 핵심 질문 추가:
   ```
   MVP: "STD랑 다른가?"
   P1:  "이거 진짜 봐야 하나?"
   P2:  "왜 이런 불량이 나왔나?"
   ```
3. ✅ 단계별 요약 표 추가 (사용자 버전)
4. ✅ 이모지 활용 (🔴 MVP, 🟡 P1, 🟢 P2)

**장점**:
- ✅ 문서 중복 없음
- ✅ 간결성 + 상세성 모두 확보
- ✅ 유지보수 쉬움

**단점**:
- 없음

---

### 옵션 C: 현 상태 유지 (변경 없음)
**이유**: 내용이 거의 동일하므로 불필요한 중복

**장점**:
- ✅ 작업 없음

**단점**:
- ❌ 사용자 제안의 간결성 미반영

---

## 4. 권장 사항

### ✅ **권장**: 옵션 B (기존 문서 개선)

**이유**:
1. 내용이 95% 동일하므로 **중복 불필요**
2. 사용자 제안의 **간결성**을 기존 문서 앞부분에 추가
3. **Quick Summary** 섹션으로 빠른 참조 가능
4. 상세 내용은 기존대로 유지 (리스크, 코드 등)

**구체적 개선안**:

### ROADMAP_REVIEW_AND_ARCHITECTURE.md 수정

```markdown
# STD 기반 QC 시스템: 로드맵 검토 및 아키텍처 분리 설계

## 📋 Quick Summary (신규 추가)

### 핵심 질문 (각 단계의 목표)
- 🔴 **MVP (Week 1-6)**: "STD랑 다른가?"
- 🟡 **P1 (Week 7-10)**: "이거 진짜 봐야 하나?"
- 🟢 **P2 (Week 11+)**: "왜 이런 불량이 나왔나?"

### 단계별 요약 표
| 단계 | 핵심 질문 | 기술 포인트 | 완료 기준 |
|------|-----------|-------------|-----------|
| 🔴 MVP | "STD랑 다른가?" | 상관계수, ΔE tail, Explainability | Week 6: 현장 시범 가능 |
| 🟡 P1 | "이거 진짜 봐야 하나?" | DTW 옵션, Anomaly ML, 데이터 수집 UX | Week 10: 100 샘플 데이터 |
| 🟢 P2 | "왜 이런 불량이 나왔나?" | ML 분류, 통계 STD, 조치 권장 | 판정 정확도 > 95% |

### 5가지 핵심 원칙
1. ✅ 룰 기반이 먼저, ML은 나중
2. ✅ 판정과 신뢰도는 분리
3. ✅ 숫자보다 '현상 설명'을 우선
4. ✅ STD는 결국 '분포'가 되어야 함
5. ✅ 데이터 수집 UX가 ML 성능을 결정

---

## 1. Executive Summary (기존 내용 유지)
...
```

---

## 5. 세부 개선 포인트

### 5.1 추가할 내용 (사용자 제안에서)

1. **핵심 질문** (각 섹션 시작 시)
   ```markdown
   ### Phase M: MVP
   **핵심 질문**: "STD랑 다른가?"
   ```

2. **명확한 포함/제외 구분**
   ```markdown
   #### M0 포함
   - DB 스키마 (std_profiles, test_samples, comparison_results)
   - ORM + 마이그레이션

   #### M0 제외
   - Upper/Lower 범위 관리
   - 버전 관리 UI
   ```

3. **이모지 활용**
   - 🔴 MVP
   - 🟡 P1
   - 🟢 P2
   - ⭐ 중요
   - ✅ 완료
   - 🟡 진행중
   - ❌ 제외

### 5.2 기존 문서에서 유지할 내용

1. **아키텍처 설계** (섹션 5)
   - 단일 분석 vs 비교 시스템 분리
   - 디렉토리 구조
   - 데이터 흐름

2. **리스크 분석** (섹션 7)
   - 완화 방안
   - 병렬 운영 전략

3. **코드 예시** (섹션 3)
   - 의사코드
   - 라인 수 추정

4. **통합 로드맵** (섹션 8)
   - Week별 세부 작업

---

## 6. 실행 계획

### 단계 1: Quick Summary 추가 (10분)
- ROADMAP_REVIEW_AND_ARCHITECTURE.md 맨 앞에 추가
- 핵심 질문, 요약 표, 5가지 원칙

### 단계 2: 섹션별 개선 (30분)
- 각 Phase에 "핵심 질문" 추가
- 포함/제외 명확히 구분
- 이모지 활용

### 단계 3: INDEX.md 업데이트 (5분)
- Quick Summary 언급 추가

---

## 7. 최종 권장

### ✅ 채택 권장
- **옵션 B**: 기존 문서 개선 (Quick Summary 추가)
- **이유**: 중복 제거, 간결성 + 상세성 확보

### ❌ 채택 불필요
- **옵션 A**: 별도 문서 (불필요한 중복)
- **옵션 C**: 현 상태 유지 (개선 기회 상실)

---

## 8. 결론

### 검토 결과
- ✅ **내용 일치도**: 95% (거의 완벽)
- ✅ **사용자 제안 품질**: 매우 우수 (간결, 명확)
- ✅ **기 작성 문서 품질**: 우수 (상세, 실행 가능)

### 통합 방안
**Quick Summary 추가** (옵션 B)로 두 문서의 장점 결합

### Next Action
1. ROADMAP_REVIEW_AND_ARCHITECTURE.md에 Quick Summary 추가
2. 각 섹션에 핵심 질문 추가
3. 이모지 활용 개선

---

**검토자**: Claude Sonnet 4.5
**날짜**: 2025-12-17
**결론**: ✅ **옵션 B 채택 권장** (기존 문서 개선)
